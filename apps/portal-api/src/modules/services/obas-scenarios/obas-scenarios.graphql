input CreateObasScenarioInput {
  name: String!
  slug: String!
  short_description: String!
  description: String!
  active: Boolean!
  labels: [String!]
  uploader_id: String!
  # Specific fields for obas scenarios
  product_version: String!
}

input UpdateObasScenarioInput {
  name: String
  slug: String
  short_description: String
  description: String
  active: Boolean
  labels: [String!]
  uploader_organization_id: String
  uploader_id: String
  # Specific fields for obas scenarios
  product_version: String
}

type ObasScenario implements DocumentBase & Node {
  id: ID!
  type: String!
  uploader: User
  uploader_organization: Organization
  service_instance_id: String!
  name: String!
  short_description: String!
  description: String!
  file_name: String!
  minio_name: String!
  active: Boolean!
  created_at: Date!
  updated_at: Date
  updater_id: String
  download_number: Int!
  share_number: Int!
  children_documents: [ShareableResourceImage!]
  slug: String!
  service_instance: ServiceInstance
  subscription: SubscriptionModel
  # Specific fields for obas scenarios
  labels: [Label!]
  product_version: String
}

type ObasScenarioEdge {
  cursor: String!
  node: ObasScenario!
}

type ObasScenarioConnection {
  totalCount: Int!
  edges: [ObasScenarioEdge!]!
  pageInfo: PageInfo!
}

type Query {
  seoObasScenariosByServiceSlug(serviceSlug: String): [ObasScenario]
  seoObasScenarioBySlug(slug: String): ObasScenario
  obasScenarios(
    first: Int!
    after: ID
    orderBy: DocumentOrdering!
    orderMode: OrderingMode!
    searchTerm: String
    filters: [Filter!]
    serviceInstanceId: String
  ): ObasScenarioConnection! @auth
  obasScenario(id: ID, serviceInstanceId: ID): ObasScenario @auth
}

type Mutation {
  createObasScenario(
    input: CreateObasScenarioInput!
    document: [Upload!]!
    serviceInstanceId: String
  ): ObasScenario! @auth @service_capa(requires: [UPLOAD])
  updateObasScenario(
    documentId: ID!
    input: UpdateObasScenarioInput!
    document: [Upload!]
    updateDocument: Boolean!
    images: [String!]
    serviceInstanceId: String
  ): ObasScenario! @auth @service_capa(requires: [UPLOAD])
  deleteObasScenario(id: ID!, serviceInstanceId: String!): ObasScenario!
    @auth
    @service_capa(requires: [DELETE])
}
